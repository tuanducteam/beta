/*! lazyload - v2.1.1 - 2018-04-01
 * https://github.com/13twelve/lazyload
 * Copyright (c) 2018
 * License: MIT
 * Author: Mike Byrne @13twelve https://github.com/13twelve
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.lazyLoad=t()}(this,(function(){var e,t,n,o,a,r={pageUpdatedEventName:"page:updated",elements:"img[data-src], img[data-srcset], source[data-srcset], iframe[data-src], video[data-src], [data-lazyload]",rootMargin:"0px",threshold:0,maxFrameCount:10},i=[];function d(e){e.removeAttribute("data-src"),e.removeAttribute("data-srcset"),e.removeAttribute("data-lazyload")}function l(){this.removeEventListener("load",l),d(this)}function c(e){var t=e.getAttribute("data-srcset"),n=e.getAttribute("data-src"),o=null!==e.getAttribute("data-lazyload");t&&(e.setAttribute("srcset",t),window.picturefill&&window.picturefill({elements:[e]})),n&&(e.src=n),o&&(e.setAttribute("data-lazyloaded",""),e.removeEventListener("load",l),d(e))}function s(e){0===n&&o.disconnect();for(var t=0;t<e.length;t++){var a=e[t];a.intersectionRatio>0&&(n--,o.unobserve(a.target),a.target.addEventListener("load",l,!1),c(a.target))}}function u(){var m,f,v;if("really-old"===a){for(n=i.length,m=0;m<n;m++)i[m]&&(c(i[m]),d(i[m]));i=[]}else if("old"===a){if(t===r.maxFrameCount){for(n=i.length,m=0;m<n;m++)if(i[m]&&void 0===i[m].lazyloaded&&(f=i[m],v=void 0,(v=(f="SOURCE"===f.tagName?f.parentNode:f).getBoundingClientRect()).bottom>0&&v.right>0&&v.left<(window.innerWidth||document.documentElement.clientWidth)&&v.top<(window.innerHeight||document.documentElement.clientHeight))){var g=i[m];i[m]=void 0,g.lazyloaded=!0,g.addEventListener("load",l,!1),c(g)}for(m=0;m<n;m++)void 0===i[m]&&i.splice(m,1);n=i.length,t=-1}n>0&&(t++,e=window.requestAnimationFrame(u))}else if("new"===a)for(o=new IntersectionObserver(s,{rootMargin:r.rootMargin,threshold:r.threshold}),n=i.length,m=0;m<n;m++)i[m]&&void 0===i[m].lazyloaded&&o.observe(i[m])}function m(){if("old"===a)try{cancelAnimationFrame(e)}catch(e){}else if("new"===a)try{o.disconnect()}catch(e){}i=function(e){var t=[],n=0;for(t=[],n=e.length;n;)t[--n]=e[n];return t}(document.querySelectorAll(r.elements)),n=i.length,t=r.maxFrameCount,u()}return function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);a="addEventListener"in window&&window.requestAnimationFrame&&void 0!==typeof document.body.getBoundingClientRect?"IntersectionObserver"in window?"new":"old":"really-old",m(),r.pageUpdatedEventName&&document.addEventListener(r.pageUpdatedEventName,m,!0)}})),lazyLoad();